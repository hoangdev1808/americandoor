{"version":3,"sources":["map.js"],"names":["mapSelector","document","querySelector","dealerLocatorList","map","itemClicked","markers","locationsInput","zoom","styles","featureType","elementType","stylers","color","visibility","saturation","lightness","addMarkers","position","locationLatLng","InfoWindow","bounds","extend","marker","index","showInfoMarkerOnMap","LatLng","location","lat","lng","google","maps","Marker","fitBounds","title","name","icon","infoWindow","setContent","getLocationList","locations","getBounds","address","newMarker","setAttribute","addEventListener","innerHTML","forEach","contains","getPosition","createElement","classList","add","concat","phone","markerIndex","getAttribute","event","trigger","appendChild","initialize","Map","mapOption","listener","addListener","getZoom","setZoom","removeListener","addDomListener","window"],"mappings":"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","file":"map.min.js","sourcesContent":["const mapSelector = document.querySelector('#map');\nconst dealerLocatorList = document.querySelector('.dealer-locator-list .list');\n\nif (mapSelector) {\n\tlet map, itemClicked, markers = [];\n\tconst locations = locationsInput;\n\tconst mapOption = {\n\t\tzoom: 12,\n\t\tstyles: [{\n\t\t\t\t'featureType': 'administrative',\n\t\t\t\t'elementType': 'labels.text.fill',\n\t\t\t\t'stylers': [{\n\t\t\t\t\t'color': '#444444',\n\t\t\t\t}, ],\n\t\t\t},\n\t\t\t{\n\t\t\t\t'featureType': 'landscape',\n\t\t\t\t'elementType': 'all',\n\t\t\t\t'stylers': [{\n\t\t\t\t\t'color': '#f2f2f2',\n\t\t\t\t}, ],\n\t\t\t},\n\t\t\t{\n\t\t\t\t'featureType': 'poi',\n\t\t\t\t'elementType': 'all',\n\t\t\t\t'stylers': [{\n\t\t\t\t\t'visibility': 'off',\n\t\t\t\t}, ],\n\t\t\t},\n\t\t\t{\n\t\t\t\t'featureType': 'road',\n\t\t\t\t'elementType': 'all',\n\t\t\t\t'stylers': [{\n\t\t\t\t\t\t'saturation': -100,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t'lightness': 45,\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\t'featureType': 'road.highway',\n\t\t\t\t'elementType': 'all',\n\t\t\t\t'stylers': [{\n\t\t\t\t\t'visibility': 'simplified',\n\t\t\t\t}, ],\n\t\t\t},\n\t\t\t{\n\t\t\t\t'featureType': 'road.arterial',\n\t\t\t\t'elementType': 'labels.icon',\n\t\t\t\t'stylers': [{\n\t\t\t\t\t'visibility': 'off',\n\t\t\t\t}, ],\n\t\t\t},\n\t\t\t{\n\t\t\t\t'featureType': 'transit',\n\t\t\t\t'elementType': 'all',\n\t\t\t\t'stylers': [{\n\t\t\t\t\t'visibility': 'off',\n\t\t\t\t}, ],\n\t\t\t},\n\t\t\t{\n\t\t\t\t'featureType': 'water',\n\t\t\t\t'elementType': 'all',\n\t\t\t\t'stylers': [{\n\t\t\t\t\t\t'color': '#0c6db5',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t'visibility': 'on',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t};\n\n\tconst infoWindow = new google.maps.InfoWindow();\n\n\tconst addMarkers = () => {\n\t\tconst bounds = new google.maps.LatLngBounds();\n\t\tlocations.forEach((location, index) => {\n\t\t\tlet locationLatLng = new google.maps.LatLng(location.lat, location.lng);\n\t\t\tlet marker = new google.maps.Marker({\n\t\t\t\tmap: map,\n\t\t\t\ttitle: location.name,\n\t\t\t\tposition: locationLatLng,\n\t\t\t\ticon: './assets/icons/marker-icon.svg',\n\t\t\t});\n\t\t\tbounds.extend(marker.position);\n\t\t\tmarkers.push(marker);\n\t\t\tshowInfoMarkerOnMap(marker, index);\n\t\t});\n\n\t\tmap.fitBounds(bounds);\n\t};\n\n\tconst showInfoMarkerOnMap = (marker, index) => {\n\t\tgoogle.maps.event.addListener(marker, 'click', function() {\n\t\t\tinfoWindow.setContent(`\n\t\t\t\t\t<h3>${locations[index].name}</h3>\n\t\t\t\t\t<p>${locations[index].address}</p>\n\t\t\t\t\t<p>${locations[index].phone}</p>\n\t\t\t\t`);\n\t\t\titemClicked = index;\n\t\t\tinfoWindow.open(map, marker);\n\t\t\tmap.panTo(marker.getPosition());\n\t\t\tmap.setZoom(12);\n\t\t})\n\t};\n\n\tconst getLocationList = () => {\n\t\tif (dealerLocatorList) {\n\t\t\tdealerLocatorList.innerHTML = '';\n\t\t\tmarkers.forEach((marker, index) => {\n\t\t\t\tif (map.getBounds().contains(marker.getPosition())) {\n\t\t\t\t\tconst newMarker = document.createElement('div');\n\t\t\t\t\tnewMarker.classList.add('dealer-locator-item');\n\t\t\t\t\tnewMarker.innerHTML = `\n\t\t\t\t\t\t\t<h3>${locations[index].name}</h3>\n\t\t\t\t\t\t\t<p>${locations[index].address}</p>\n\t\t\t\t\t\t\t<p>${locations[index].phone}</p>\n\t\t\t\t\t\t`;\n\t\t\t\t\tnewMarker.setAttribute('marker-id', `${index}`);\n\t\t\t\t\tnewMarker.addEventListener('click', () => {\n\t\t\t\t\t\titemClicked = index;\n\t\t\t\t\t\tconst markerIndex = newMarker.getAttribute('marker-id');\n\t\t\t\t\t\tgoogle.maps.event.trigger(markers[markerIndex], 'click');\n\t\t\t\t\t});\n\t\t\t\t\tdealerLocatorList.appendChild(newMarker);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t// const searchLocation = () => {\n\t// \tvar map = new google.maps.Map(document.getElementById('map'), {\n\t// \t\tcenter: {\n\t// \t\t\tlat: -33.8688,\n\t// \t\t\tlng: 151.2195\n\t// \t\t},\n\t// \t\tzoom: 13,\n\t// \t\tmapTypeId: 'roadmap'\n\t// \t});\n\n\t// \t// Create the search box and link it to the UI element.\n\t// \tvar input = document.getElementById('pac-input');\n\t// \tvar searchBox = new google.maps.places.SearchBox(input);\n\t// \tmap.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n\n\t// \t// Bias the SearchBox results towards current map's viewport.\n\t// \tmap.addListener('bounds_changed', function() {\n\t// \t\tsearchBox.setBounds(map.getBounds());\n\t// \t});\n\n\t// \tvar markers = [];\n\t// \t// Listen for the event fired when the user selects a prediction and retrieve\n\t// \t// more details for that place.\n\t// \tsearchBox.addListener('places_changed', function() {\n\t// \t\tvar places = searchBox.getPlaces();\n\n\t// \t\tif (places.length == 0) {\n\t// \t\t\treturn;\n\t// \t\t}\n\n\t// \t\t// Clear out the old markers.\n\t// \t\tmarkers.forEach(function(marker) {\n\t// \t\t\tmarker.setMap(null);\n\t// \t\t});\n\t// \t\tmarkers = [];\n\n\t// \t\t// For each place, get the icon, name and location.\n\t// \t\tvar bounds = new google.maps.LatLngBounds();\n\t// \t\tplaces.forEach(function(place) {\n\t// \t\t\tif (!place.geometry) {\n\t// \t\t\t\tconsole.log(\"Returned place contains no geometry\");\n\t// \t\t\t\treturn;\n\t// \t\t\t}\n\t// \t\t\tvar icon = {\n\t// \t\t\t\turl: place.icon,\n\t// \t\t\t\tsize: new google.maps.Size(71, 71),\n\t// \t\t\t\torigin: new google.maps.Point(0, 0),\n\t// \t\t\t\tanchor: new google.maps.Point(17, 34),\n\t// \t\t\t\tscaledSize: new google.maps.Size(25, 25)\n\t// \t\t\t};\n\n\t// \t\t\t// Create a marker for each place.\n\t// \t\t\tmarkers.push(new google.maps.Marker({\n\t// \t\t\t\tmap: map,\n\t// \t\t\t\ticon: icon,\n\t// \t\t\t\ttitle: place.name,\n\t// \t\t\t\tposition: place.geometry.location\n\t// \t\t\t}));\n\n\t// \t\t\tif (place.geometry.viewport) {\n\t// \t\t\t\t// Only geocodes have viewport.\n\t// \t\t\t\tbounds.union(place.geometry.viewport);\n\t// \t\t\t} else {\n\t// \t\t\t\tbounds.extend(place.geometry.location);\n\t// \t\t\t}\n\t// \t\t});\n\t// \t\tmap.fitBounds(bounds);\n\t// \t});\n\t// }\n\n\tconst initialize = () => {\n\t\tmap = new google.maps.Map(mapSelector, mapOption);\n\t\taddMarkers();\n\t\tlet listener = google.maps.event.addListener(map, 'idle', () => {\n\t\t\tif (map.getZoom() > 12) {\n\t\t\t\tmap.setZoom(12);\n\t\t\t}\n\t\t\tgoogle.maps.event.removeListener(listener);\n\t\t});\n\t\tgoogle.maps.event.addListener(map, 'bounds_changed', getLocationList);\n\t};\n\n\tgoogle.maps.event.addDomListener(window, 'load', initialize);\n}"]}